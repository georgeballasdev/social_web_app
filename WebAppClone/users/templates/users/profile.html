{% extends 'feed/base.html' %}
{% load static %}
{% load humanize %}
{% block content %}
    <link rel="stylesheet" href="{% static 'users/css/profile.css' %}">
    <link rel="stylesheet" href="{% static 'feed/css/post.css' %}">
    <h2 class="content-header">{{ profile_user.username }}'s Profile</h2>
    <div id="profile-info">
        <div id="container">
            <img src="{{ profile_user.profile.pic.url }}" alt="profile pic">
            <p>Joined at {{ profile_user.profile.joined_at|naturalday }}</p>
        </div>
        <div id="bio">{{ profile_user.profile.bio }}</div>
        {% if user == profile_user %}
        <a href="{% url 'users:update' %}">EDIT PROFILE</a>
        {% else %}
        <div id="friendship-btn">{{ friendship_button_state }}</div>
        {% endif %}
    </div>
    {% if profile_user.post_set.all %}
    <a href="#profile-info"><i id="scroll-home" class="fa-solid fa-arrow-up"></i></a>
    <h3>Posts:</h3>
    {% for post in profile_user.post_set.all %}
        {% include 'feed/post.html' with post=post %}
    {% endfor %}
    {% endif %}
{% endblock %}
{% block js %}
    <script
        data-handle-url = "{% url 'users:handle_friendship' profile_user.id %}">
		const PROFILE_DATASET = document.currentScript.dataset;
    </script>
    <script type="text/javascript" src="{% static 'feed/js/post.js' %}"></script>
    <script type="text/javascript" src="{% static 'users/js/profile.js' %}"></script>
{% endblock %}